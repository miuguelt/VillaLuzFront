/* Tailwind v4 import syntax */
@import "tailwindcss";

@theme {
  --color-background: hsl(210 40% 98%);
  --color-foreground: hsl(222.2 84% 4.9%);
  --color-card: hsl(0 0% 100% / 0.95);
  --color-card-foreground: hsl(222.2 84% 4.9%);
  --color-popover: hsl(0 0% 100% / 0.98);
  --color-popover-foreground: hsl(222.2 84% 4.9%);
  --color-primary: hsl(221.2 83.2% 53.3%);
  --color-primary-foreground: hsl(210 40% 98%);
  --color-secondary: hsl(210 40% 94%);
  --color-secondary-foreground: hsl(222.2 47.4% 11.2%);
  --color-muted: hsl(210 40% 94%);
  --color-muted-foreground: hsl(215.4 16.3% 46.9%);
  --color-accent: hsl(210 40% 96.1%);
  --color-accent-foreground: hsl(222.2 47.4% 11.2%);
  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: hsl(210 40% 98%);
  --color-border: hsl(214.3 31.8% 88%);
  --color-input: hsl(214.3 31.8% 91.4%);
  --color-ring: hsl(221.2 83.2% 53.3%);
  --color-primary-50: hsl(213 100% 97%);
  --color-primary-100: hsl(214 95% 93%);
  --color-primary-200: hsl(213 97% 87%);
  --color-primary-300: hsl(212 96% 78%);
  --color-primary-400: hsl(213 94% 68%);
  --color-primary-500: hsl(217 91% 60%);
  --color-primary-600: hsl(221 83% 53%);
  --color-primary-700: hsl(224 76% 48%);
  --color-primary-800: hsl(226 71% 40%);
  --color-primary-900: hsl(224 64% 33%);
  --color-secondary-50: hsl(210 40% 98%);
  --color-secondary-100: hsl(210 40% 96%);
  --color-secondary-200: hsl(214 32% 91%);
  --color-secondary-300: hsl(213 27% 84%);
  --color-secondary-400: hsl(215 20% 65%);
  --color-secondary-500: hsl(215 16% 47%);
  --color-secondary-600: hsl(215 19% 35%);
  --color-secondary-700: hsl(215 25% 27%);
  --color-secondary-800: hsl(217 33% 17%);
  --color-secondary-900: hsl(222 47% 11%);
  --color-neutral-50: hsl(0 0% 98%);
  --color-neutral-100: hsl(0 0% 96%);
  --color-neutral-200: hsl(0 0% 90%);
  --color-neutral-300: hsl(0 0% 83%);
  --color-neutral-400: hsl(0 0% 64%);
  --color-neutral-500: hsl(0 0% 45%);
  --color-neutral-600: hsl(0 0% 32%);
  --color-neutral-700: hsl(0 0% 25%);
  --color-neutral-800: hsl(0 0% 15%);
  --color-neutral-900: hsl(0 0% 9%);
  --color-success: hsl(142 71% 45%);
  --color-success-foreground: hsl(144 80% 98%);
  --color-success-50: hsl(138 76% 97%);
  --color-success-100: hsl(141 84% 93%);
  --color-success-200: hsl(141 78% 85%);
  --color-success-300: hsl(142 76% 73%);
  --color-success-400: hsl(142 69% 58%);
  --color-success-500: hsl(142 71% 45%);
  --color-success-600: hsl(142 72% 35%);
  --color-success-700: hsl(142 73% 29%);
  --color-success-800: hsl(143 75% 24%);
  --color-success-900: hsl(144 80% 20%);
  --color-warning: hsl(38 92% 50%);
  --color-warning-foreground: hsl(24 10% 10%);
  --color-warning-50: hsl(55 92% 95%);
  --color-warning-100: hsl(55 97% 88%);
  --color-warning-200: hsl(50 97% 76%);
  --color-warning-300: hsl(45 96% 65%);
  --color-warning-400: hsl(42 96% 55%);
  --color-warning-500: hsl(38 92% 50%);
  --color-warning-600: hsl(32 95% 44%);
  --color-warning-700: hsl(28 92% 37%);
  --color-warning-800: hsl(22 86% 30%);
  --color-warning-900: hsl(20 79% 26%);
  --color-danger: hsl(0 84% 60%);
  --color-danger-foreground: hsl(210 40% 98%);
  --color-danger-50: hsl(0 86% 97%);
  --color-danger-100: hsl(0 93% 94%);
  --color-danger-200: hsl(0 96% 89%);
  --color-danger-300: hsl(0 94% 82%);
  --color-danger-400: hsl(0 91% 71%);
  --color-danger-500: hsl(0 84% 60%);
  --color-danger-600: hsl(0 72% 51%);
  --color-danger-700: hsl(0 74% 42%);
  --color-danger-800: hsl(0 70% 35%);
  --color-danger-900: hsl(0 63% 31%);
  --color-chart-1: hsl(12 76% 61%);
  --color-chart-2: hsl(173 58% 39%);
  --color-chart-3: hsl(197 37% 24%);
  --color-chart-4: hsl(43 74% 66%);
  --color-chart-5: hsl(27 87% 67%);
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  --font-size-6xl: 3.75rem;
  --letter-spacing-tight: -0.025em;
  --letter-spacing-wider: 0.05em;
  --line-height-none: 1;
  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-relaxed: 1.625;

  /* Tipograf칤as y tama침os base */
  --font-sans: Inter, ui-sans-serif, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --font-weight-400: 400;
  --font-weight-500: 500;
  --font-weight-600: 600;
  --font-weight-700: 700;

  /* Radios */
  --radius: 0.5rem; /* Debe alinear con tailwind.config -> md=0.5rem */

  /* Sombras sem치nticas mejoradas */
  --shadow-sm: 0 2px 4px 0 hsl(var(--color-foreground) / 0.08);
  --shadow-md: 0 4px 8px -1px hsl(var(--color-foreground) / 0.12), 0 2px 6px -2px hsl(var(--color-foreground) / 0.12);
  --shadow-lg: 0 10px 20px -3px hsl(var(--color-foreground) / 0.15), 0 4px 8px -4px hsl(var(--color-foreground) / 0.15);
  --shadow-xl: 0 20px 30px -5px hsl(var(--color-foreground) / 0.18), 0 8px 12px -6px hsl(var(--color-foreground) / 0.18);
  --shadow-2xl: 0 25px 50px -12px hsl(var(--color-foreground) / 0.25);

  /* Container */
  --container-max: 80rem;

  /* Colores de rol */
  --color-role-admin: hsl(0 72% 51%);
  --color-role-instructor: hsl(221.2 83.2% 53.3%);
  --color-role-apprentice: hsl(142 71% 45%);

  /* Aliases para mantener compatibilidad con tailwind.config.js que usa variables sin prefijo */
  --background: var(--color-background);
  --foreground: var(--color-foreground);
  --card: var(--color-card);
  --card-foreground: var(--color-card-foreground);
  --popover: var(--color-popover);
  --popover-foreground: var(--color-popover-foreground);
  --primary: var(--color-primary);
  --primary-foreground: var(--color-primary-foreground);
  --secondary: var(--color-secondary);
  --secondary-foreground: var(--color-secondary-foreground);
  --muted: var(--color-muted);
  --muted-foreground: var(--color-muted-foreground);
  --accent: var(--color-accent);
  --accent-foreground: var(--color-accent-foreground);
  --destructive: var(--color-destructive);
  --destructive-foreground: var(--color-destructive-foreground);
  --border: var(--color-border);
  /* Escalas alias (primary/secondary/neutral/success/warning/danger) */
  --primary-50: var(--color-primary-50);
  --primary-100: var(--color-primary-100);
  --primary-200: var(--color-primary-200);
  --primary-300: var(--color-primary-300);
  --primary-400: var(--color-primary-400);
  --primary-500: var(--color-primary-500);
  --primary-600: var(--color-primary-600);
  --primary-700: var(--color-primary-700);
  --primary-800: var(--color-primary-800);
  --primary-900: var(--color-primary-900);
  --secondary-50: var(--color-secondary-50);
  --secondary-100: var(--color-secondary-100);
  --secondary-200: var(--color-secondary-200);
  --secondary-300: var(--color-secondary-300);
  --secondary-400: var(--color-secondary-400);
  --secondary-500: var(--color-secondary-500);
  --secondary-600: var(--color-secondary-600);
  --secondary-700: var(--color-secondary-700);
  --secondary-800: var(--color-secondary-800);
  --secondary-900: var(--color-secondary-900);
  --neutral-50: var(--color-neutral-50);
  --neutral-100: var(--color-neutral-100);
  --neutral-200: var(--color-neutral-200);
  --neutral-300: var(--color-neutral-300);
  --neutral-400: var(--color-neutral-400);
  --neutral-500: var(--color-neutral-500);
  --neutral-600: var(--color-neutral-600);
  --neutral-700: var(--color-neutral-700);
  --neutral-800: var(--color-neutral-800);
  --neutral-900: var(--color-neutral-900);
  --success-50: var(--color-success-50);
  --success-100: var(--color-success-100);
  --success-200: var(--color-success-200);
  --success-300: var(--color-success-300);
  --success-400: var(--color-success-400);
  --success-500: var(--color-success-500);
  --success-600: var(--color-success-600);
  --success-700: var(--color-success-700);
  --success-800: var(--color-success-800);
  --success-900: var(--color-success-900);
  --warning-50: var(--color-warning-50);
  --warning-100: var(--color-warning-100);
  --warning-200: var(--color-warning-200);
  --warning-300: var(--color-warning-300);
  --warning-400: var(--color-warning-400);
  --warning-500: var(--color-warning-500);
  --warning-600: var(--color-warning-600);
  --warning-700: var(--color-warning-700);
  --warning-800: var(--color-warning-800);
  --warning-900: var(--color-warning-900);
  --danger-50: var(--color-danger-50);
  --danger-100: var(--color-danger-100);
  --danger-200: var(--color-danger-200);
  --danger-300: var(--color-danger-300);
  --danger-400: var(--color-danger-400);
  --danger-500: var(--color-danger-500);
  --danger-600: var(--color-danger-600);
  --danger-700: var(--color-danger-700);
  --danger-800: var(--color-danger-800);
  --danger-900: var(--color-danger-900);
  --chart-1: var(--color-chart-1);
  --chart-2: var(--color-chart-2);
  --chart-3: var(--color-chart-3);
  --chart-4: var(--color-chart-4);
  --chart-5: var(--color-chart-5);
}

.dark {
  --color-background: hsl(222.2 47% 6%);
  --color-foreground: hsl(210 40% 98%);
  --color-card: hsl(222.2 84% 4.9% / 0.95);
  --color-card-foreground: hsl(210 40% 98%);
  --color-popover: hsl(222.2 84% 4.9% / 0.98);
  --color-popover-foreground: hsl(210 40% 98%);
  --color-primary: hsl(217.2 91.2% 59.8%);
  --color-primary-foreground: hsl(222.2 47.4% 11.2%);
  --color-secondary: hsl(217.2 32.6% 15%);
  --color-secondary-foreground: hsl(210 40% 98%);
  --color-muted: hsl(217.2 32.6% 15%);
  --color-muted-foreground: hsl(215 20% 65%);
  --color-accent: hsl(217.2 32.6% 17.5%);
  --color-accent-foreground: hsl(210 40% 98%);
  --color-destructive: hsl(0 63% 31%);
  --color-destructive-foreground: hsl(210 40% 98%);
  --color-border: hsl(217.2 32.6% 22%);
  --color-input: hsl(217.2 32.6% 17.5%);
  --color-ring: hsl(224 76% 48%);
}

@layer base {
  html {
    scroll-behavior: smooth;
    margin: 0;
    padding: 0;
  }
  body {
    @apply bg-background text-foreground antialiased;
    margin: 0;
    padding: 0;
  }

  /* Optimizaci칩n global de renderizado de im치genes para m치xima calidad */
  img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  /* Optimizaci칩n espec칤fica para im치genes de alta resoluci칩n (4K+) */
  img[data-high-quality],
  .high-quality-image {
    image-rendering: -webkit-optimize-contrast;
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
    text-rendering: optimizeLegibility;
    backface-visibility: hidden;
    perspective: 1000px;
    transform: translate3d(0, 0, 0);
    will-change: transform;
  }

  /* Mejora global de iconos (lucide-react agrega la clase .lucide autom치ticamente) */
  .lucide {
    width: 1.25rem; /* 20px */
    height: 1.25rem; /* 20px */
    stroke-width: 2.25;
    color: var(--color-foreground);
    flex-shrink: 0;
  }

  /* Bot칩n de acci칩n para iconos: alto contraste y tama침o consistente */
  .icon-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2rem;  /* 32px */
    height: 2rem; /* 32px */
    border-radius: var(--radius);
    border: 1px solid var(--color-border);
    background: var(--color-secondary-100);
    color: var(--color-foreground);
    box-shadow: var(--shadow-sm);
    transition: background-color 160ms ease, box-shadow 160ms ease, transform 120ms ease;
  }
  .icon-btn:hover {
    background: var(--color-secondary-200);
    box-shadow: var(--shadow-md);
  }
  .icon-btn:active {
    transform: translateY(0.5px);
  }
  .dark .icon-btn {
    background: var(--color-secondary);
    border-color: var(--color-secondary-700);
  }
}

@layer utilities {
  /* Animaci칩n sutil de la onda (ligero desplazamiento horizontal) */
  @keyframes waveFloat {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(-4px); }
  }

  /* Brillo/pulso muy sutil en la franja superior */
  @keyframes stripeGlow {
    0%, 100% { opacity: 0.7; filter: saturate(100%); }
    50% { opacity: 0.95; filter: saturate(110%); }
  }

  /* Animaci칩n de lupa para tablas */
  @keyframes magnifyingGlassPulse {
    0%, 100% {
      transform: scale(1) rotate(0deg);
      opacity: 0.8;
    }
    50% {
      transform: scale(1.1) rotate(5deg);
      opacity: 1;
    }
  }

  /* Visor de im치genes fullscreen optimizado para m치xima calidad */
  .fullscreen-image-viewer {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    background: #000;
    margin: 0;
    padding: 0;
    overflow: hidden;
    z-index: 9999;
  }

  .fullscreen-image-viewer img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center;
    image-rendering: -webkit-optimize-contrast;
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
    backface-visibility: hidden;
    transform: translate3d(0, 0, 0);
    will-change: transform;
    max-width: 100%;
    max-height: 100%;
  }

  /* Optimizaci칩n para pantallas de alta densidad de p칤xeles (Retina, 4K) */
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .fullscreen-image-viewer img {
      image-rendering: -webkit-optimize-contrast;
      -webkit-font-smoothing: subpixel-antialiased;
    }
  }

  /* Optimizaci칩n adicional para pantallas 4K y superiores */
  @media (min-width: 3840px) {
    .fullscreen-image-viewer img {
      image-rendering: high-quality;
      image-rendering: -webkit-optimize-contrast;
    }
  }
}

/* Efecto de lupa para filas de tabla */
[data-table-row] {
  position: relative;
}

[data-table-row]::before {
  content: "游댌";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  font-size: 2rem;
  opacity: 0;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
  z-index: 60;
  filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.8));
}

[data-table-row]:hover::before {
  transform: translate(-50%, -50%) scale(1.2);
  opacity: 0.9;
  animation: magnifyingGlassPulse 1.5s ease-in-out infinite;
}

/* Respeto a usuarios con "reducir movimiento" activado */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
}