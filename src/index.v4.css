/* Tailwind v4 import syntax */
@import "tailwindcss";

@theme {
  --color-background: hsl(220 24% 97%);
  --color-foreground: hsl(222 47% 12%);
  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(222 47% 12%);
  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(222 47% 12%);
  --color-primary: hsl(217 92% 55%);
  --color-primary-foreground: hsl(210 40% 98%);
  --color-secondary: hsl(220 16% 92%);
  --color-secondary-foreground: hsl(222 32% 24%);
  --color-muted: hsl(220 12% 88%);
  --color-muted-foreground: hsl(220 15% 38%);
  --color-accent: hsl(218 20% 85%);
  --color-accent-foreground: hsl(222 32% 24%);
  --color-destructive: hsl(6 74% 45%);
  --color-destructive-foreground: hsl(0 0% 100%);
  --color-border: hsl(220 14% 80%);
  --color-input: hsl(220 16% 94%);
  --color-ring: hsl(217 92% 55%);
  --color-info: hsl(205 84% 45%);
  --color-info-foreground: hsl(210 40% 98%);
  --color-overlay-strong: 220 20% 18% / 0.72;
  --color-overlay-soft: 220 22% 24% / 0.45;
  --color-overlay-muted: 220 24% 30% / 0.28;
  --color-primary-ghost: 217 92% 55% / 0.18;
  --color-primary-ghost-strong: 217 92% 55% / 0.32;
  --color-success-ghost: 145 60% 45% / 0.14;
  --color-success-ghost-strong: 145 60% 45% / 0.3;
  --color-warning-ghost: 32 92% 50% / 0.16;
  --color-warning-ghost-strong: 32 92% 50% / 0.34;
  --color-danger-ghost: 3 74% 50% / 0.16;
  --color-danger-ghost-strong: 3 74% 50% / 0.34;
  --color-info-ghost: 205 84% 45% / 0.14;
  --color-info-ghost-strong: 205 84% 45% / 0.32;
  --color-text-primary: hsl(222 47% 12%);
  --color-text-secondary: hsl(220 15% 38%);
  --color-surface-primary: 0 0% 100%;
  --color-surface-secondary: 220 16% 92%;
  --color-surface-tertiary: 220 12% 88%;
  --color-border-strong: 220 12% 65%;
  --color-surface-hover: 220 20% 90%;
  --color-surface-active: 220 16% 85%;
  --color-surface-disabled: 220 12% 80%;
  --color-primary-50: hsl(215 95% 97%);
  --color-primary-100: hsl(215 92% 92%);
  --color-primary-200: hsl(215 90% 85%);
  --color-primary-300: hsl(216 88% 76%);
  --color-primary-400: hsl(216 86% 66%);
  --color-primary-500: hsl(217 82% 58%);
  --color-primary-600: hsl(217 80% 52%);
  --color-primary-700: hsl(218 75% 46%);
  --color-primary-800: hsl(219 70% 38%);
  --color-primary-900: hsl(220 65% 32%);
  --color-secondary-50: hsl(210 33% 98%);
  --color-secondary-100: hsl(214 24% 95%);
  --color-secondary-200: hsl(216 18% 90%);
  --color-secondary-300: hsl(220 14% 83%);
  --color-secondary-400: hsl(220 12% 70%);
  --color-secondary-500: hsl(220 10% 55%);
  --color-secondary-600: hsl(220 9% 44%);
  --color-secondary-700: hsl(220 10% 32%);
  --color-secondary-800: hsl(220 12% 24%);
  --color-secondary-900: hsl(220 15% 19%);
  --color-neutral-50: hsl(0 0% 98%);
  --color-neutral-100: hsl(240 5% 96%);
  --color-neutral-200: hsl(240 4% 90%);
  --color-neutral-300: hsl(240 4% 80%);
  --color-neutral-400: hsl(240 3% 65%);
  --color-neutral-500: hsl(240 3% 52%);
  --color-neutral-600: hsl(240 3% 42%);
  --color-neutral-700: hsl(240 3% 32%);
  --color-neutral-800: hsl(240 4% 22%);
  --color-neutral-900: hsl(240 5% 14%);
  --color-success: hsl(145 65% 40%);
  --color-success-foreground: hsl(138 30% 96%);
  --color-success-50: hsl(140 60% 95%);
  --color-success-100: hsl(141 55% 88%);
  --color-success-200: hsl(142 54% 78%);
  --color-success-300: hsl(143 52% 66%);
  --color-success-400: hsl(144 54% 52%);
  --color-success-500: hsl(145 60% 45%);
  --color-success-600: hsl(145 65% 38%);
  --color-success-700: hsl(146 60% 32%);
  --color-success-800: hsl(147 55% 26%);
  --color-success-900: hsl(148 50% 22%);
  --color-warning: hsl(32 92% 45%);
  --color-warning-foreground: hsl(32 20% 12%);
  --color-warning-50: hsl(43 100% 95%);
  --color-warning-100: hsl(40 96% 88%);
  --color-warning-200: hsl(38 96% 78%);
  --color-warning-300: hsl(36 94% 68%);
  --color-warning-400: hsl(33 92% 58%);
  --color-warning-500: hsl(32 92% 50%);
  --color-warning-600: hsl(30 88% 44%);
  --color-warning-700: hsl(27 82% 36%);
  --color-warning-800: hsl(24 78% 30%);
  --color-warning-900: hsl(20 70% 24%);
  --color-danger: hsl(3 74% 50%);
  --color-danger-foreground: hsl(0 0% 100%);
  --color-danger-50: hsl(4 82% 97%);
  --color-danger-100: hsl(4 84% 92%);
  --color-danger-200: hsl(3 82% 84%);
  --color-danger-300: hsl(3 78% 72%);
  --color-danger-400: hsl(2 75% 60%);
  --color-danger-500: hsl(3 74% 50%);
  --color-danger-600: hsl(3 74% 42%);
  --color-danger-700: hsl(3 70% 36%);
  --color-danger-800: hsl(2 64% 28%);
  --color-danger-900: hsl(2 60% 22%);
  --color-info-50: hsl(204 100% 97%);
  --color-info-100: hsl(205 89% 92%);
  --color-info-200: hsl(205 86% 84%);
  --color-info-300: hsl(205 82% 75%);
  --color-info-400: hsl(205 78% 64%);
  --color-info-500: hsl(205 74% 55%);
  --color-info-600: hsl(205 72% 45%);
  --color-info-700: hsl(206 67% 38%);
  --color-info-800: hsl(207 60% 32%);
  --color-info-900: hsl(208 53% 26%);
  --color-chart-1: hsl(217 92% 55%);
  --color-chart-2: hsl(145 60% 40%);
  --color-chart-3: hsl(32 92% 50%);
  --color-chart-4: hsl(3 74% 50%);
  --color-chart-5: hsl(250 60% 50%);
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  --font-size-6xl: 3.75rem;
  --letter-spacing-tight: -0.025em;
  --letter-spacing-wider: 0.05em;
  --line-height-none: 1;
  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-relaxed: 1.625;

  /* Tipografías y tamaños base */
  --font-sans: Inter, ui-sans-serif, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --font-weight-400: 400;
  --font-weight-500: 500;
  --font-weight-600: 600;
  --font-weight-700: 700;

  /* Radios */
  --radius: 0.75rem; /* Debe alinear con tailwind.config -> md=0.75rem */

  /* Sombras semánticas más sutiles */
  --shadow-sm: 0 1px 2px hsl(220 20% 10% / 0.08);
  --shadow-md: 0 2px 6px hsl(220 20% 10% / 0.12);
  --shadow-lg: 0 4px 12px hsl(220 20% 10% / 0.16);
  --shadow-xl: 0 6px 20px hsl(220 20% 10% / 0.18);
  --shadow-2xl: 0 10px 28px hsl(220 20% 10% / 0.2);

  /* Container */
  --container-max: 80rem;

  /* Colores de rol */
  --color-role-admin: hsl(3 74% 50%);
  --color-role-instructor: hsl(217 82% 58%);
  --color-role-apprentice: hsl(145 60% 45%);

  /* Aliases para mantener compatibilidad con tailwind.config.js que usa variables sin prefijo */
  --background: var(--color-background);
  --foreground: var(--color-foreground);
  --card: var(--color-card);
  --card-foreground: var(--color-card-foreground);
  --popover: var(--color-popover);
  --popover-foreground: var(--color-popover-foreground);
  --primary: var(--color-primary);
  --primary-foreground: var(--color-primary-foreground);
  --secondary: var(--color-secondary);
  --secondary-foreground: var(--color-secondary-foreground);
  --muted: var(--color-muted);
  --muted-foreground: var(--color-muted-foreground);
  --accent: var(--color-accent);
  --accent-foreground: var(--color-accent-foreground);
  --destructive: var(--color-destructive);
  --destructive-foreground: var(--color-destructive-foreground);
  --overlay-strong: var(--color-overlay-strong);
  --overlay-soft: var(--color-overlay-soft);
  --overlay-muted: var(--color-overlay-muted);
  --info: var(--color-info);
  --info-foreground: var(--color-info-foreground);
  --border: var(--color-border);
  --text-primary: var(--color-text-primary);
  --text-secondary: var(--color-text-secondary);
  --surface-primary: var(--color-surface-primary);
  --surface-secondary: var(--color-surface-secondary);
  --surface-tertiary: var(--color-surface-tertiary);
  --surface-hover: var(--color-surface-hover);
  --surface-active: var(--color-surface-active);
  --surface-disabled: var(--color-surface-disabled);
  --border-strong: var(--color-border-strong);
  --primary-ghost: var(--color-primary-ghost);
  --primary-ghost-strong: var(--color-primary-ghost-strong);
  --success-ghost: var(--color-success-ghost);
  --success-ghost-strong: var(--color-success-ghost-strong);
  --warning-ghost: var(--color-warning-ghost);
  --warning-ghost-strong: var(--color-warning-ghost-strong);
  --danger-ghost: var(--color-danger-ghost);
  --danger-ghost-strong: var(--color-danger-ghost-strong);
  --info-ghost: var(--color-info-ghost);
  --info-ghost-strong: var(--color-info-ghost-strong);
  /* Escalas alias (primary/secondary/neutral/success/warning/danger) */
  --primary-50: var(--color-primary-50);
  --primary-100: var(--color-primary-100);
  --primary-200: var(--color-primary-200);
  --primary-300: var(--color-primary-300);
  --primary-400: var(--color-primary-400);
  --primary-500: var(--color-primary-500);
  --primary-600: var(--color-primary-600);
  --primary-700: var(--color-primary-700);
  --primary-800: var(--color-primary-800);
  --primary-900: var(--color-primary-900);
  --secondary-50: var(--color-secondary-50);
  --secondary-100: var(--color-secondary-100);
  --secondary-200: var(--color-secondary-200);
  --secondary-300: var(--color-secondary-300);
  --secondary-400: var(--color-secondary-400);
  --secondary-500: var(--color-secondary-500);
  --secondary-600: var(--color-secondary-600);
  --secondary-700: var(--color-secondary-700);
  --secondary-800: var(--color-secondary-800);
  --secondary-900: var(--color-secondary-900);
  --neutral-50: var(--color-neutral-50);
  --neutral-100: var(--color-neutral-100);
  --neutral-200: var(--color-neutral-200);
  --neutral-300: var(--color-neutral-300);
  --neutral-400: var(--color-neutral-400);
  --neutral-500: var(--color-neutral-500);
  --neutral-600: var(--color-neutral-600);
  --neutral-700: var(--color-neutral-700);
  --neutral-800: var(--color-neutral-800);
  --neutral-900: var(--color-neutral-900);
  --success-50: var(--color-success-50);
  --success-100: var(--color-success-100);
  --success-200: var(--color-success-200);
  --success-300: var(--color-success-300);
  --success-400: var(--color-success-400);
  --success-500: var(--color-success-500);
  --success-600: var(--color-success-600);
  --success-700: var(--color-success-700);
  --success-800: var(--color-success-800);
  --success-900: var(--color-success-900);
  --warning-50: var(--color-warning-50);
  --warning-100: var(--color-warning-100);
  --warning-200: var(--color-warning-200);
  --warning-300: var(--color-warning-300);
  --warning-400: var(--color-warning-400);
  --warning-500: var(--color-warning-500);
  --warning-600: var(--color-warning-600);
  --warning-700: var(--color-warning-700);
  --warning-800: var(--color-warning-800);
  --warning-900: var(--color-warning-900);
  --danger-50: var(--color-danger-50);
  --danger-100: var(--color-danger-100);
  --danger-200: var(--color-danger-200);
  --danger-300: var(--color-danger-300);
  --danger-400: var(--color-danger-400);
  --danger-500: var(--color-danger-500);
  --danger-600: var(--color-danger-600);
  --danger-700: var(--color-danger-700);
  --danger-800: var(--color-danger-800);
  --danger-900: var(--color-danger-900);
  --info-50: var(--color-info-50);
  --info-100: var(--color-info-100);
  --info-200: var(--color-info-200);
  --info-300: var(--color-info-300);
  --info-400: var(--color-info-400);
  --info-500: var(--color-info-500);
  --info-600: var(--color-info-600);
  --info-700: var(--color-info-700);
  --info-800: var(--color-info-800);
  --info-900: var(--color-info-900);
  --chart-1: var(--color-chart-1);
  --chart-2: var(--color-chart-2);
  --chart-3: var(--color-chart-3);
  --chart-4: var(--color-chart-4);
  --chart-5: var(--color-chart-5);
}

.dark {
  --color-background: hsl(220 28% 6%);
  --color-foreground: hsl(210 40% 96%);
  --color-card: hsl(220 26% 12%);
  --color-card-foreground: hsl(210 40% 96%);
  --color-popover: hsl(220 26% 12%);
  --color-popover-foreground: hsl(210 40% 96%);
  --color-primary: hsl(217 92% 65%);
  --color-primary-foreground: hsl(220 28% 6%);
  --color-secondary: hsl(220 20% 16%);
  --color-secondary-foreground: hsl(210 40% 98%);
  --color-muted: hsl(220 16% 20%);
  --color-muted-foreground: hsl(215 18% 72%);
  --color-accent: hsl(220 18% 24%);
  --color-accent-foreground: hsl(210 40% 98%);
  --color-destructive: hsl(6 74% 48%);
  --color-destructive-foreground: hsl(0 0% 100%);
  --color-border: hsl(220 14% 26%);
  --color-input: hsl(220 14% 22%);
  --color-ring: hsl(217 92% 65%);
  --color-info: hsl(205 78% 60%);
  --color-info-foreground: hsl(210 40% 8%);
  --color-overlay-strong: 220 32% 8% / 0.82;
  --color-overlay-soft: 220 26% 16% / 0.52;
  --color-overlay-muted: 220 22% 22% / 0.38;
  --color-primary-ghost: 217 92% 65% / 0.22;
  --color-primary-ghost-strong: 217 92% 65% / 0.38;
  --color-success-ghost: 145 65% 45% / 0.18;
  --color-success-ghost-strong: 145 65% 45% / 0.36;
  --color-warning-ghost: 32 92% 50% / 0.2;
  --color-warning-ghost-strong: 32 92% 50% / 0.4;
  --color-danger-ghost: 3 74% 50% / 0.2;
  --color-danger-ghost-strong: 3 74% 50% / 0.4;
  --color-info-ghost: 205 78% 60% / 0.18;
  --color-info-ghost-strong: 205 78% 60% / 0.36;
  --color-text-primary: hsl(210 40% 96%);
  --color-text-secondary: hsl(215 18% 72%);
  --color-surface-primary: 220 26% 12%;
  --color-surface-secondary: 220 20% 16%;
  --color-surface-tertiary: 220 16% 20%;
  --color-border-strong: 220 18% 32%;
  --color-surface-hover: 220 18% 22%;
  --color-surface-active: 220 18% 18%;
  --color-surface-disabled: 220 10% 32%;
}

@layer base {
  html {
    scroll-behavior: smooth;
    margin: 0;
    padding: 0;
  }
  body {
    @apply bg-background text-foreground antialiased;
    margin: 0;
    padding: 0;
  }

  /* Transiciones globales suaves para todos los elementos */
  * {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Transiciones específicas para interacciones comunes */
  button, a, input, select, textarea {
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Transiciones para elementos hover */
  button:hover, a:hover {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Optimización global de renderizado de imágenes para máxima calidad */
  img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  /* Optimización específica para imágenes de alta resolución (4K+) */
  img[data-high-quality],
  .high-quality-image {
    image-rendering: -webkit-optimize-contrast;
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
    text-rendering: optimizeLegibility;
    backface-visibility: hidden;
    perspective: 1000px;
    transform: translate3d(0, 0, 0);
    will-change: transform;
  }

  /* Mejora global de iconos (lucide-react agrega la clase .lucide automáticamente) */
  .lucide {
    width: 1.25rem; /* 20px */
    height: 1.25rem; /* 20px */
    stroke-width: 2.25;
    color: var(--color-foreground);
    flex-shrink: 0;
  }

  /* Botón de acción para iconos: alto contraste y tamaño consistente */
  .icon-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.25rem;
    height: 2.25rem;
    border-radius: var(--radius);
    border: 1px solid hsl(var(--border));
    background: hsl(var(--surface-primary));
    color: hsl(var(--text-primary));
    box-shadow: var(--shadow-sm);
    transition: background-color 180ms ease, color 180ms ease, border-color 180ms ease, transform 180ms ease;
  }
  .icon-btn:hover {
    transform: translateY(-1px);
    background: hsl(var(--surface-hover));
    border-color: hsl(var(--border-strong));
  }
  .icon-btn:active {
    transform: translateY(0) scale(0.98);
    background: hsl(var(--surface-active));
  }
  .icon-btn:disabled {
    background: hsl(var(--surface-disabled));
    color: hsl(var(--text-secondary));
    border-color: hsl(var(--border));
    cursor: not-allowed;
    transform: none;
  }
}

@layer utilities {
  /* Animación sutil de la onda (ligero desplazamiento horizontal) */
  @keyframes waveFloat {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(-4px); }
  }

  /* Brillo/pulso muy sutil en la franja superior */
  @keyframes stripeGlow {
    0%, 100% { opacity: 0.7; filter: saturate(100%); }
    50% { opacity: 0.95; filter: saturate(110%); }
  }

  /* Visor de imágenes fullscreen optimizado para máxima calidad */
  .fullscreen-image-viewer {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    background: #000;
    margin: 0;
    padding: 0;
    overflow: hidden;
    z-index: 9999;
  }

  .fullscreen-image-viewer img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center;
    image-rendering: -webkit-optimize-contrast;
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
    backface-visibility: hidden;
    transform: translate3d(0, 0, 0);
    will-change: transform;
    max-width: 100%;
    max-height: 100%;
  }

  /* Optimización para pantallas de alta densidad de píxeles (Retina, 4K) */
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .fullscreen-image-viewer img {
      image-rendering: -webkit-optimize-contrast;
      -webkit-font-smoothing: subpixel-antialiased;
    }
  }

  /* Optimización adicional para pantallas 4K y superiores */
  @media (min-width: 3840px) {
    .fullscreen-image-viewer img {
      image-rendering: high-quality;
      image-rendering: -webkit-optimize-contrast;
    }
  }
}

/* Animaciones de loading mejoradas con colores */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-25%); }
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideOutRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes scaleIn {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes colorPulseSuccess {
  0%, 100% {
    background-color: hsl(var(--success-ghost));
    border-color: hsl(var(--success-ghost-strong));
  }
  50% {
    background-color: hsl(var(--success-ghost-strong));
    border-color: hsl(var(--color-success));
  }
}

@keyframes colorPulseWarning {
  0%, 100% {
    background-color: hsl(var(--warning-ghost));
    border-color: hsl(var(--warning-ghost-strong));
  }
  50% {
    background-color: hsl(var(--warning-ghost-strong));
    border-color: hsl(var(--color-warning));
  }
}

@keyframes colorPulseDanger {
  0%, 100% {
    background-color: hsl(var(--danger-ghost));
    border-color: hsl(var(--danger-ghost-strong));
  }
  50% {
    background-color: hsl(var(--danger-ghost-strong));
    border-color: hsl(var(--color-danger));
  }
}

@keyframes colorPulseInfo {
  0%, 100% {
    background-color: hsl(var(--info-ghost));
    border-color: hsl(var(--info-ghost-strong));
  }
  50% {
    background-color: hsl(var(--info-ghost-strong));
    border-color: hsl(var(--color-info));
  }
}

/* Clases utilitarias de animación */
.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-bounce {
  animation: bounce 1s infinite;
}

.animate-slide-in {
  animation: slideInRight 400ms cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-slide-out {
  animation: slideOutRight 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-fade-in {
  animation: fadeIn 400ms cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-fade-out {
  animation: fadeOut 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-scale-in {
  animation: scaleIn 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Skeleton loading con bloques planos de alto contraste */
.skeleton {
  background-color: hsl(var(--surface-tertiary));
  animation: pulse 1.8s ease-in-out infinite;
  border-radius: var(--radius);
  opacity: 0.8;
}

/* Loading spinner con colores */
.loading-spinner {
  display: inline-block;
  width: 40px;
  height: 40px;
  border: 4px solid hsl(var(--primary-ghost));
  border-top-color: hsl(var(--color-primary));
  border-radius: 50%;
  animation: spin 800ms linear infinite;
}

.loading-spinner-sm {
  width: 20px;
  height: 20px;
  border-width: 2px;
}

.loading-spinner-lg {
  width: 60px;
  height: 60px;
  border-width: 6px;
}

/* Loading spinner con código de colores */
.loading-spinner-success {
  border-color: hsl(var(--success-ghost));
  border-top-color: hsl(var(--color-success));
}

.loading-spinner-warning {
  border-color: hsl(var(--warning-ghost));
  border-top-color: hsl(var(--color-warning));
}

.loading-spinner-danger {
  border-color: hsl(var(--danger-ghost));
  border-top-color: hsl(var(--color-danger));
}

/* Loading dots animation */
.loading-dots {
  display: inline-flex;
  gap: 8px;
}

.loading-dots span {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: hsl(var(--color-primary));
  animation: bounce 1.4s infinite ease-in-out both;
}

.loading-dots span:nth-child(1) {
  animation-delay: -0.32s;
}

.loading-dots span:nth-child(2) {
  animation-delay: -0.16s;
}

/* Loading overlay */
.loading-overlay {
  position: fixed;
  inset: 0;
  background-color: hsl(var(--overlay-strong));
  backdrop-filter: blur(12px) saturate(140%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: fadeIn 200ms ease-in-out;
}

.loading-overlay-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  padding: 32px;
  background: hsl(var(--color-card));
  border-radius: calc(var(--radius) * 2);
  box-shadow: var(--shadow-2xl);
  animation: scaleIn 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Progress bar animations */
.progress-bar {
  height: 4px;
  background-color: hsl(var(--color-muted));
  border-radius: 2px;
  overflow: hidden;
  position: relative;
}

.progress-bar-fill {
  height: 100%;
  background-color: hsl(var(--color-primary));
  transition: width 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.progress-bar-indeterminate {
  position: absolute;
  width: 30%;
  height: 100%;
  background-color: hsl(var(--color-primary));
  animation: progressIndeterminate 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

@keyframes progressIndeterminate {
  0% {
    left: -30%;
  }
  100% {
    left: 100%;
  }
}

/* Color-coded alerts and messages */
.alert-success {
  background-color: hsl(var(--success-ghost));
  border: 1px solid hsl(var(--success-ghost-strong));
  color: hsl(var(--color-success));
  animation: colorPulseSuccess 2s ease-in-out infinite;
}

.alert-warning {
  background-color: hsl(var(--warning-ghost));
  border: 1px solid hsl(var(--warning-ghost-strong));
  color: hsl(var(--color-warning));
  animation: colorPulseWarning 2s ease-in-out infinite;
}

.alert-danger {
  background-color: hsl(var(--danger-ghost));
  border: 1px solid hsl(var(--danger-ghost-strong));
  color: hsl(var(--color-danger));
  animation: colorPulseDanger 2s ease-in-out infinite;
}

.alert-info {
  background-color: hsl(var(--info-ghost));
  border: 1px solid hsl(var(--info-ghost-strong));
  color: hsl(var(--color-info));
  animation: colorPulseInfo 2s ease-in-out infinite;
}

/* Respeto a usuarios con "reducir movimiento" activado */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }

  .loading-overlay,
  .loading-spinner,
  .skeleton,
  .alert-success,
  .alert-warning,
  .alert-danger,
  .alert-info {
    animation: none !important;
  }
}
